<div class="page subject-page">
  <div class="page-header text-center">
      <button class="back-button btn btn-default" ui-sref="app.subjects">
        <span class="glyphicon glyphicon-chevron-left"></span>Zurück zu allen Fächern
      </button>
    <h1>{{subject.name}}</h1>
  </div>
  <div class="section" ng-hide="editMode">
    <label>Beschreibung:</label>
    <p>{{_.isEmpty(subject.description) ? 'Keine Beschreibung vorhanden' : subject.description}}</p>
    <button ng-show="globals.currentUser.admin" class="btn btn-secondary"
            ng-click="editMode = true">
    <span class="glyphicon glyphicon-edit"></span> Bearbeiten
    </button>
  </div>
  <div class="section" ng-show="editMode">
    <div class="form-group">
      <label>Beschreibung:</label>
      <textarea class="form-control" ng-model="subject.description"></textarea>
    </div>
    <button class="btn btn-secondary"
            ng-click="saveSubject()">
    <span class="glyphicon glyphicon-save"></span> Speichern
    </button>
  </div>
  <div ng-show="_.size(questionPools) > 0" class="section">
    <div class="table-responsive">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Name</th>
            <th>Beschreibung</th>
            <th>Materialien</th>
            <th>Test</th>
            <th ng-show="globals.currentUser.admin">Bearbeiten</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="pool in questionPools">
            <td>{{pool.name}}</td>
            <td>{{pool.description || 'Keine Beschreibung vorhanden'}}</td>
            <td><button class="btn btn-secondary" ng-show="pool.documentationFilePath">
              <span class="glyphicon glyphicon-download-alt"></span>
            </button></td>
            <td><button class="btn btn-secondary">
              <span class="glyphicon glyphicon-play-circle"></span> Starte Test
            </button></td>
            <td ng-show="globals.currentUser.admin"><button class="btn btn-secondary">
              <span class="glyphicon glyphicon-pencil"></span>
            </button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="section" ng-show="globals.currentUser.admin">
    <form ng-submit="addQuestionPool();">
      <label><span class="glyphicon glyphicon-plus"></span> Neuen Fragenpool hinzufügen</label>
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Name des Fragenpools" required
               ng-model="poolName">
        <span class="input-group-btn">
          <button type="submit" class="btn btn-primary">
            <span class="glyphicon glyphicon-plus"></span> Hinzufügen
          </button>
        </span>
      </div>
    </form>
  </div>
  <div ng-show="globals.currentUser.admin" class="section">
    <button ng-click="deleteThis()" class="delete-button btn btn-block btn-danger">
      Lösche dieses Fach
    </button>
  </div>
</div>
